# Fetch config.hcl

`config.hcl` is the main (and only) file needed for `cloudquery` to perform a fetch. As the suffix suggests, it uses the [HCL](https://github.com/hashicorp/hcl) language (See [why](https://github.com/hashicorp/hcl)).

In most cases, this file can be generated by `cloudquery init [provider_name]`, and then you can just tweak the configuration if needed.

## CloudQuery Block

The `cloudquery` block must be specified exactly once per `config.hcl`. This usually looks like: 

```hcl
// Configuration AutoGenerated by CloudQuery CLI
cloudquery {
  plugin_directory = "./cq/providers"
  policy_directory = "./cq/policies"

  provider "aws" {
    source  = ""
    version = "latest"
  }

  connection {
    dsn = "host=localhost user=postgres password=pass database=postgres port=5432"
  }
}
```

#### Arguments:

* plugin_directory - directory where CloudQuery will download provider plugins.
* policy_directory - directory where CloudQuery will download policies.

### Provider Block

This block must be specified one or more times, specifying which providers and which versions you want to use. All official and approved community providers are listed on [CloudQuery Hub](https://hub.cloudquery.io) with their respective version and documentation.

The `cloudquery fetch` command will download all the providers with their respective version to `plugin_directory`. Once they are downloaded, CloudQuery will verify them and execute to ETL the configuration and metadata each provider supports.

#### Connection Block

The connection block specifies to which database you should connect via `dsn` argument.

## Provider Block

The provider block must be specified one or more times, and should be first specified in the `cloudquery` block.

Each provider has two blocks: 

* `configuration` - The arguments are different from provider to provider and their documentation can be found in [CloudQuery Hub](https://hub.cloudquery.io).
* `resources` - All resources that this provider supports and can fetch configuration and meta-data from.


:::tip
You can have multiple providers of the same type specified here. For example, this can be useful if you want to fetch data from different accounts and you don't have cross-account access.
:::
